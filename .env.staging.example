# Staging Environment Configuration
# Copy this file to .env.staging for staging-specific settings

# ===================================
# Staging Environment
# ===================================

NODE_ENV=staging
DJANGO_ENV=staging
DEBUG=false
DJANGO_DEBUG=false

# ===================================
# Staging URLs
# ===================================

NEXT_PUBLIC_API_URL=https://staging-api.yourapp.com
NEXT_PUBLIC_WEB_URL=https://staging.yourapp.com
DJANGO_ALLOWED_HOSTS=staging-api.yourapp.com,staging.yourapp.com

# ===================================
# Staging Database
# ===================================

DATABASE_URL=postgresql://staging_user:staging_password@staging-db-host:5432/fullstack_monolith_staging
DB_HOST=staging-db-host
DB_PORT=5432
DB_NAME=fullstack_monolith_staging
DB_USER=staging_user
DB_PASSWORD=staging_password

# ===================================
# Staging Redis
# ===================================

REDIS_URL=redis://staging-redis-host:6379/0
CELERY_BROKER_URL=redis://staging-redis-host:6379/1
CHANNELS_REDIS_URL=redis://staging-redis-host:6379/2

# ===================================
# Staging Security
# ===================================

DJANGO_SECRET_KEY=staging-secret-key-different-from-prod
JWT_SECRET_KEY=staging-jwt-secret-different-from-prod
NEXTAUTH_SECRET=staging-nextauth-secret-different-from-prod

# ===================================
# Staging Email
# ===================================

EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.yourprovider.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=staging-noreply@yourapp.com
EMAIL_HOST_PASSWORD=YOUR_STAGING_EMAIL_PASSWORD

# ===================================
# Staging File Storage
# ===================================

USE_S3=true
AWS_ACCESS_KEY_ID=YOUR_STAGING_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_STAGING_AWS_SECRET_KEY
AWS_STORAGE_BUCKET_NAME=yourapp-staging-media
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=staging-cdn.yourapp.com

# ===================================
# Staging Monitoring
# ===================================

SENTRY_DSN=https://your-staging-sentry-dsn@sentry.io/staging-project-id

# ===================================
# Staging Features
# ===================================

DJANGO_DEBUG_TOOLBAR=false
DJANGO_EXTENSIONS=true  # Enabled for staging debugging
NEXT_PUBLIC_HOT_RELOAD=false

# Staging logging (more verbose than production)
LOG_LEVEL=DEBUG
DJANGO_LOG_LEVEL=INFO

# Staging caching (shorter TTL than production)
CACHE_TTL=1800  # 30 minutes

# Staging rate limiting (more permissive than production)
RATE_LIMIT_PER_MINUTE=120

# Staging session settings
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_AGE=86400  # 1 day (shorter than production)
SESSION_COOKIE_HTTPONLY=true

# ===================================
# Staging SSL/TLS (Less strict than production)
# ===================================

SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=3600  # 1 hour (shorter than production)
SECURE_HSTS_INCLUDE_SUBDOMAINS=false
SECURE_HSTS_PRELOAD=false
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true

# ===================================
# Staging Backup (Less frequent than production)
# ===================================

DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 4 * * 0  # Weekly on Sunday at 4 AM
DB_BACKUP_RETENTION_DAYS=7

MEDIA_BACKUP_ENABLED=false  # Disabled for staging