{% extends 'base.html' %}
{% load static %}

{% block title %}Successfully Unsubscribed - {{ block.super }}{% endblock %}

{% block extra_css %}
<style>
    .unsubscribe-success-container {
        max-width: 600px;
        margin: 0 auto;
        padding: 3rem 2rem;
        text-align: center;
    }
    .success-card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        padding: 2rem;
    }
    .success-icon {
        font-size: 4rem;
        color: #27ae60;
        margin-bottom: 2rem;
    }
    .feedback-section {
        background-color: #f8f9fa;
        border-radius: 5px;
        padding: 1.5rem;
        margin: 2rem 0;
        text-align: left;
    }
    .btn-action {
        background-color: #3498db;
        border-color: #3498db;
        padding: 0.75rem 2rem;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 5px;
        margin: 0.5rem;
    }
    .btn-action:hover {
        background-color: #2980b9;
        border-color: #2980b9;
    }
    .resubscribe-info {
        background-color: #e3f2fd;
        border: 1px solid #bbdefb;
        border-radius: 5px;
        padding: 1rem;
        margin: 2rem 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="unsubscribe-success-container">
                <div class="success-card">
                    {% if unsubscribed %}
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <h1 class="mb-4">{{ page_title }}</h1>
                        
                        <p class="lead text-muted mb-4">
                            You have been successfully unsubscribed from our newsletter. 
                            We're sorry to see you go!
                        </p>
                        
                        <div class="alert alert-success" role="alert">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Unsubscription Complete</strong><br>
                            You will no longer receive newsletter emails from us. 
                            This change is effective immediately.
                        </div>
                        
                        <div class="feedback-section">
                            <h5><i class="fas fa-comment me-2"></i>Help Us Improve</h5>
                            <p class="mb-3">We'd love to know why you unsubscribed so we can improve our content:</p>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i>Emails were too frequent</li>
                                <li><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i>Content wasn't relevant to me</li>
                                <li><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i>I never signed up for this</li>
                                <li><i class="fas fa-circle me-2" style="font-size: 0.5rem;"></i>Other reasons</li>
                            </ul>
                            <p class="mb-0 text-muted small">
                                If you have specific feedback, feel free to contact us directly.
                            </p>
                        </div>
                        
                        <div class="resubscribe-info">
                            <h6><i class="fas fa-undo me-2"></i>Changed Your Mind?</h6>
                            <p class="mb-0">
                                You can always resubscribe to our newsletter at any time. 
                                Just visit our subscription page and sign up again.
                            </p>
                        </div>
                        
                        <div class="mt-4">
                            <a href="{% url 'newsletter:subscribe' %}" class="btn btn-outline-primary btn-action">
                                <i class="fas fa-envelope me-2"></i>Resubscribe
                            </a>
                            <a href="{% url 'blog:post_list' %}" class="btn btn-primary btn-action">
                                <i class="fas fa-blog me-2"></i>Visit Our Blog
                            </a>
                        </div>
                        
                        <div class="mt-4">
                            <p class="text-muted small">
                                <i class="fas fa-heart me-1 text-danger"></i>
                                Thank you for being part of our community. We hope to see you again soon!
                            </p>
                        </div>
                        
                    {% else %}
                        <div class="success-icon text-danger">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        
                        <h1 class="mb-4">Unsubscribe Failed</h1>
                        
                        <div class="alert alert-danger" role="alert">
                            <h5><i class="fas fa-times-circle me-2"></i>Something Went Wrong</h5>
                            <p class="mb-0">
                                We couldn't process your unsubscribe request. This could be due to:
                            </p>
                            <ul class="text-start mt-2 mb-0">
                                <li>An invalid or expired unsubscribe link</li>
                                <li>You may have already been unsubscribed</li>
                                <li>A temporary system issue</li>
                            </ul>
                        </div>
                        
                        <p class="text-muted">
                            If you're still receiving emails and want to unsubscribe, please try our manual unsubscribe form.
                        </p>
                        
                        <div class="mt-4">
                            <a href="{% url 'newsletter:unsubscribe_form' %}" class="btn btn-primary btn-action">
                                <i class="fas fa-edit me-2"></i>Manual Unsubscribe
                            </a>
                            <a href="{% url 'core:home' %}" class="btn btn-secondary btn-action">
                                <i class="fas fa-home me-2"></i>Go to Homepage
                            </a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}