# Production Environment Configuration
# Copy this file to .env.production for production-specific settings

# ===================================
# Production Environment
# ===================================

NODE_ENV=production
DJANGO_ENV=production
DEBUG=false
DJANGO_DEBUG=false

# ===================================
# Production URLs
# ===================================

NEXT_PUBLIC_API_URL=https://api.yourapp.com
NEXT_PUBLIC_WEB_URL=https://yourapp.com
DJANGO_ALLOWED_HOSTS=api.yourapp.com,yourapp.com

# ===================================
# Production Database
# ===================================

DATABASE_URL=postgresql://prod_user:STRONG_PASSWORD@prod-db-host:5432/fullstack_monolith_prod
DB_HOST=prod-db-host
DB_PORT=5432
DB_NAME=fullstack_monolith_prod
DB_USER=prod_user
DB_PASSWORD=STRONG_PASSWORD

# Read replica for production
DATABASE_REPLICA_URL=postgresql://prod_user:STRONG_PASSWORD@prod-db-replica:5432/fullstack_monolith_prod

# ===================================
# Production Redis
# ===================================

REDIS_URL=redis://prod-redis-host:6379/0
CELERY_BROKER_URL=redis://prod-redis-host:6379/1
CHANNELS_REDIS_URL=redis://prod-redis-host:6379/2

# ===================================
# Production Security (CHANGE THESE!)
# ===================================

DJANGO_SECRET_KEY=CHANGE-THIS-TO-A-VERY-STRONG-SECRET-KEY
JWT_SECRET_KEY=CHANGE-THIS-TO-A-VERY-STRONG-JWT-SECRET
NEXTAUTH_SECRET=CHANGE-THIS-TO-A-VERY-STRONG-NEXTAUTH-SECRET

# ===================================
# Production Email
# ===================================

EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.yourprovider.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=noreply@yourapp.com
EMAIL_HOST_PASSWORD=YOUR_EMAIL_PASSWORD

# ===================================
# Production File Storage (S3)
# ===================================

USE_S3=true
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_STORAGE_BUCKET_NAME=yourapp-production-media
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=cdn.yourapp.com

# ===================================
# Production Monitoring
# ===================================

SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Prometheus metrics
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=8001

# ===================================
# Production Features
# ===================================

DJANGO_DEBUG_TOOLBAR=false
DJANGO_EXTENSIONS=false
NEXT_PUBLIC_HOT_RELOAD=false

# Production logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=WARNING

# Production caching (longer TTL)
CACHE_TTL=3600  # 1 hour

# Production rate limiting
RATE_LIMIT_PER_MINUTE=60

# Production session settings
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_AGE=1209600  # 2 weeks
SESSION_COOKIE_HTTPONLY=true

# ===================================
# Production SSL/TLS
# ===================================

SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true
SECURE_CONTENT_TYPE_NOSNIFF=true
SECURE_BROWSER_XSS_FILTER=true

# ===================================
# Production Backup
# ===================================

DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30

MEDIA_BACKUP_ENABLED=true
MEDIA_BACKUP_SCHEDULE=0 3 * * *  # Daily at 3 AM